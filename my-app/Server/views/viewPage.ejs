<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= newsData[0].title %></title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: {
                            600: '#1a73e8',
                            700: '#1557c0'
                        },
                        accent: {
                            500: '#d93025'
                        }
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif']
                    }
                }
            }
        }
    </script>
    <style>
        .article-content p {
            margin-bottom: 1.5rem;
            line-height: 1.8;
        }
        
        @keyframes pulse-dot {
            0% { transform: scale(0.8); opacity: 0.8; }
            50% { transform: scale(1.2); opacity: 1; }
            100% { transform: scale(0.8); opacity: 0.8; }
        }
        
        .live-dot {
            animation: pulse-dot 2s infinite;
        }
    </style>
</head>
<body class="bg-gray-50 font-sans">
    <main class="max-w-4xl mx-auto py-8">
        <article class="bg-white rounded-xl shadow-sm overflow-hidden">
            <% if (newsData && newsData.length > 0) { %>
                <div class="relative">
                    <img 
                        src="https://images.pexels.com/photos/3944454/pexels-photo-3944454.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2" 
                        alt="News header image" 
                        class="w-full h-64 object-cover"
                    >
                    <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent"></div>
                    
                    <div class="absolute bottom-0 left-0 right-0 p-6 text-white">
                        <div class="flex flex-wrap gap-3 mb-3">
                            <% if (newsData[0].type === 'Live Videos') { %>
                                <span class="inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-accent-500">
                                    <span class="w-2 h-2 bg-white rounded-full mr-2 live-dot"></span>
                                    LIVE
                                </span>
                            <% } %>
                            <span class="px-3 py-1 rounded-full text-xs font-medium bg-primary-600">
                                <%= newsData[0].subcategory %>
                            </span>
                        </div>
                        <h1 class="text-2xl sm:text-3xl font-bold leading-tight mb-2">
                            <%= newsData[0].title %>
                        </h1>
                        <div class="text-gray-200 text-sm">
                            <%= new Date(newsData[0].DisplayTime).toLocaleString('en-US', { 
                                weekday: 'long', 
                                year: 'numeric', 
                                month: 'long', 
                                day: 'numeric',
                                hour: '2-digit',
                                minute: '2-digit'
                            }) %>
                        </div>
                    </div>
                </div>

                <div class="p-6 sm:p-8">
                    <p class="text-xl font-medium text-justify text-gray-800 italic border-l-4 border-primary-600 pl-4 py-2 mb-8">
                        <%= newsData[0].shortDescription %>
                    </p>

                    <div class="article-content prose prose-lg max-w-none">
                        <% 
                        const paragraphs = newsData[0].description.split('\n\n');
                        paragraphs.forEach(paragraph => { %>
                            <p class="text-gray-700 text-justify"><%= paragraph %></p>
                        <% }); %>
                    </div>
                </div>
            <% } else { %>
                <div class="p-8 text-center">
                    <p class="text-gray-600">Article not found</p>
                </div>
            <% } %>
        </article>
    </main>
    <script>
    function sendHeight() {
      const height = document.body.scrollHeight;
      window.parent.postMessage({ type: 'SET_IFRAME_HEIGHT', height }, '*');
    }

    window.addEventListener('load', sendHeight);
    window.addEventListener('resize', sendHeight);
  </script>
</body>
</html>